module.exports=function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";n.__esModule=!0;var e=r(11);n.tag=e;var o=r(6);n.Upstream=o;var i=r(4);n.Downstream=i,n["default"]=r(1)},function(t,n,r){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},u=e(r(5)),s=e(r(7)),a=e(r(8)),c=e(r(9)),f=e(r(10)),p=e(r(3)),l=function(){function t(){i(this,t),f(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){this.commit(this.deserialize(t))},t.prototype.pull=function(t){return this._state[t]},t.prototype.clone=function(){return Object.create(this._state)},t.prototype.commit=function(t){this._state=t,this.emit()},t.prototype.prepare=function(t){for(var n,r=arguments.length,e=Array(r>1?r-1:0),o=1;r>o;o++)e[o-1]=arguments[o];return s("function"==typeof t,"prepare was called with no callable action."),(n=this.send).bind.apply(n,[this,t].concat(e))},t.prototype.send=function(t){for(var n=this,r=arguments.length,e=Array(r>1?r-1:0),o=1;r>o;o++)e[o-1]=arguments[o];s(t,"send method expected an action, instead got "+t);var i=t.apply(this,e);return i instanceof Promise?i.then(function(r){return n.dispatch(t,r)}):this.dispatch(t,i)},t.prototype.dispatch=function(t,n){var r=this,e=a(this._stores,function(n){return t in n});return Object.keys(e).length>0&&!function(){var o=r.clone(),i=p(e,function(r){return r[t](o[r],n)},o);r.commit(i)}(),n},t.prototype.addPlugin=function(t,n){s("register"in t,"Plugins must have a register method."),this._plugins.push([t,n])},t.prototype.addStore=function(t){var n=o({},u,t);s(!this._stores[t],'Tried to add "'+t+'" but it is not unique'),this._stores[n]=n},t.prototype.serialize=function(){var t=this;return p(this._stores,function(n){return n.serialize(t.pull(n))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return p(this._stores,function(n){return n.deserialize(t[n])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return a(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._state=p(this._stores,function(t){return t.getInitialState()}),c(this._plugins,this,function(){n.forEach(function(t){return t()})})},t}();t.exports=l},function(t,n,r){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},o=e(r(1));t.exports=function(t,n,r){if(t[n]instanceof o==!1)throw new Error("Context type "+n+" of <"+r+"> should be an instance of Microcosm")}},function(t){"use strict";function n(t,n){var r=void 0===arguments[2]?{}:arguments[2],e=Object.keys(t);return e.reduce(function(r,e){return r[e]=n(t[e],e),r},r)}t.exports=n},function(t,n,r){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},o=e(r(2));t.exports={contextTypes:{app:o},send:function(t){for(var n,r=arguments.length,e=Array(r>1?r-1:0),o=1;r>o;o++)e[o-1]=arguments[o];(n=this.context.app).send.apply(n,[t].concat(e))}}},function(t){"use strict";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error("Stores must implement a toString() method")}}},function(t,n,r){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},o=e(r(2));t.exports={childContextTypes:{app:o},getChildContext:function(){return{app:this.props.app||this.context.app}},send:function(t){for(var n,r=arguments.length,e=Array(r>1?r-1:0),o=1;r>o;o++)e[o-1]=arguments[o];(n=this.props.app).send.apply(n,[t].concat(e))}}},function(t){"use strict";function n(t,n){if(!t){var r=new Error(n);throw r.framesToPop=1,r}}t.exports=n},function(t){"use strict";t.exports=function(t,n){var r={};for(var e in t)n(t[e])&&(r[e]=t[e]);return r}},function(t){"use strict";function n(t,o,i){var u=e(t),s=u[0],a=u.slice(1);if(!s)return i();var c=r(s,2),f=c[0],p=c[1];f.register(o,p,function(t){if(t)throw t;n(a,o,i)})}var r=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var r,e=[],o=t[Symbol.iterator]();!(r=o.next()).done&&(e.push(r.value),!n||e.length!==n););return e}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=n},function(t){"use strict";function n(){var t=void 0===arguments[0]?{}:arguments[0],n=[];return t.ignore=function(t){n=n.filter(function(n){return n!==t})},t.listen=function(t){n.push(t)},t.emit=function(){for(var t=0;t<n.length;t++)n[t].call(this)},t}t.exports=n},function(t,n,r){"use strict";function e(t){return"function"==typeof t}function o(t,n){var r=t.bind(null),e="_"+n+"_"+s++;return r.toString=function(){return e},r}var i=function(t){return t&&t.__esModule?t["default"]:t},u=i(r(3)),s=0;t.exports=function(t){return u(t,function(t,n){return e(t)?o(t,n):t})}}]);
//# sourceMappingURL=Microcosm.js.map