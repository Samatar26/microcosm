module.exports=function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";t.exports=r(2)},function(t){"use strict";var n=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function t(){n(this,t),this._callbacks=[]}return t.prototype._pump=function(){for(var t=0;t<this._callbacks.length;t++)this._callbacks[t]()},t.prototype.ignore=function(t){this._callbacks=this._callbacks.filter(function(n){return n!==t})},t.prototype.listen=function(t){this._callbacks=this._callbacks.concat(t)},t.prototype.pump=function(){this._callbacks.length>0&&this._pump()},t}();t.exports=r},function(t,n,r){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},s=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},a=e(r(1)),c=e(r(3)),u=function(t){function n(r){i(this,n),t.call(this),this.stores=[],this._state=this.getInitialState(r)}return s(n,t),n.prototype.getInitialState=function(){var t=void 0===arguments[0]?{}:arguments[0];return o({},t)},n.prototype.set=function(t,n){this._state=o({},this._state,function(){var r={};return r[t]=n,r}())},n.prototype.get=function(t){return this._state[t]||t.getInitialState()},n.prototype.onError=function(t){throw t},n.prototype.send=function(t,n){var r=this,e=c(t(n));return e.then(function(n){return r.dispatch(t,n)})["catch"](this.onError),e},n.prototype.dispatch=function(t,n){var r=this;this._state=this.stores.reduce(function(e,o){return t in o&&(e[o]=o[t](r.get(o),n)),e},o({},this._state)),this.pump()},n.prototype.addStore=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this.stores=this.stores.concat(n)},n.prototype.serialize=function(){var t=this;return this.stores.reduce(function(n,r){return n[r]=t.get(r),n},{})},n}(a);t.exports=u},function(t){"use strict";t.exports=function(t){return t instanceof Promise?t:Promise.resolve(t)}}]);
//# sourceMappingURL=Microcosm.js.map