![Microcososm](http://f.cl.ly/items/36051G3A2M443z3v3U3b/microcososm.svg)
---

A [Flux](https://facebook.github.io/flux/) framework with hard
opinions about isolation. Microcosm makes it easier to control and
modify state in a pure, centralized way.

[![Circle CI](https://circleci.com/gh/vigetlabs/microcosm.svg?style=svg)](https://circleci.com/gh/vigetlabs/microcosm)

## Overview

Within the context of the Flux model, Microcosm treats actions and
stores as singletons, however they do not contain any state.

Actions are called within the context of a particular instance of Microcosm:

```javascript
  app.push(Action, { parameters })
```

Stores hold no state, reducing old state and parameters into a new
state:

```javascript
let Store = {
  addRecord(state, params) {
    return state.concat(params)
  }
}
```

This is designed to create a reasonable trade-off between the
simplicity of singletons with the benefits of isolated state.

## Opinions

1. Action CONSTANTS are automatically generated by assigning
   each Action function a unique `toString` method.
3. Actions dispatch parameters by returning a value, promise,
   or follow the error-first callbacks convention. The promise and
   error-first callback methods will only dispatch on success.
3. Actions handle all asynchronous operations. Stores are
   synchronous.
4. Stores do not contain data, they _transform_ it.

## What is it trying to solve?

1. State isolation. Requests to render applications server-side should
   be as stateless as possible. Client-side libraries (such as [Colonel
   Kurtz](https://github.com/vigetlabs/colonel-kurtz)) need easy
   containment from other instances on the page.
2. Singletons are simple, but make it easy to accidentally share
   state. Microcosm keeps data in one place, operating on it
   statelessly in other entities.
3. Easy extension of core API and layering of features out of the
   framework's scope.

## Tutorials

[Hello, Microcosm](docs/guides/hello-microcosm.md) is a great place to
start. With that background, [Design](docs/design.md) may help to
provide an additional high level overview of how things work. Beyond
that, check out [the example app](example/src/index.jsx).

## Documentation

There is documentation [here](docs). This includes high level
overviews of framework architecture, guides, and API documentation for
the individual components of Microcosm.

## Inspiration

- [Worlds](http://www.vpri.org/pdf/rn2008001_worlds.pdf)
- [Om](https://github.com/omcljs/om)
- [Elm Language](https://elm-lang.org)
- [Flummox](https://github.com/acdlite/flummox)
