general:
  branches:
    ignore:
      - gh-pages
machine:
  environment:
    PATH: "${PATH}:${HOME}/${CIRCLE_PROJECT_REPONAME}/node_modules/.bin"
    COVERALLS_REPO_TOKEN: $COVERALLS_REPO_TOKEN
    COVERALLS_SERVICE_JOB_ID: "${CIRCLE_BUILD_NUM}"
    COVERALLS_SERVICE_NAME: CircleCI
  node:
    version: 6.10.0
dependencies:
  override:
    - yarn
  cache_directories:
    - ~/.cache/yarn
test:
  override:
    - yarn test:cov
  post:
    - yarn report-coverage
